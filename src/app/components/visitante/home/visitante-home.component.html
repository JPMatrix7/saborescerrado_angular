<section id="hero" class="hero">
  <div class="hero-content">
    <p class="hero-chip">Colecoes autorais do Cerrado</p>
    <h1>Experimente licores criados com ingredientes nativos e memorias afetivas.</h1>
    <p class="hero-subtitle">
      Resgatamos tradicoes centenarias em pequenos lotes, com rastreabilidade e tecnicas de
      maturacao inspiradas na coquetelaria brasileira.
    </p>
    <div class="hero-actions">
      <a routerLink="/produtos" class="primary-button">Explorar produtos</a>
      <a routerLink="/produtos" fragment="kit-degustacao" class="ghost-button">Ver kits degustacao</a>
    </div>
    <div class="hero-metrics">
      <div *ngFor="let metric of metrics">
        <p class="metric-value">{{ metric.value }}</p>
        <p class="metric-label">{{ metric.label }}</p>
      </div>
    </div>
  </div>

  <div class="hero-visual">
    <p class="hero-chip secondary">Catalogo conectado ao backend</p>
    <h3>Todos os destaques sao carregados via API em tempo real.</h3>
    <p>
      Ao integrar com o backend voce garante disponibilidade, precos e imagens consistentes em todo o
      ecossistema.
    </p>
    <p class="hero-helper">
      Ajuste o endpoint diretamente no componente para apontar para o ambiente desejado.
    </p>
  </div>
</section>

<section class="featured-carousel" aria-label="Produtos em destaque">
  <header>
    <p class="section-chip">Produtos em destaque</p>
    <h2>Carrossel de lancamentos e series especiais</h2>
    <p>Descubra sabores premiados e selecoes limitadas.</p>
  </header>

  <div class="carousel-wrapper" *ngIf="featuredProducts.length; else emptyFeatured">
    <button
      class="carousel-nav prev"
      type="button"
      (click)="prevSlide()"
      aria-label="Anterior"
      [disabled]="featuredProducts.length <= 1"
    >
      &#10094;
    </button>
    <div class="carousel-track" [style.transform]="'translateX(-' + activeSlide() * 100 + '%)'">
      <article class="carousel-card" *ngFor="let product of featuredProducts">
        <div class="card-media" [class.placeholder]="!product.image">
          <img *ngIf="product.image; else imagePlaceholder" [src]="product.image" [alt]="product.title" />
          <ng-template #imagePlaceholder>
            <span>Imagem pendente via API</span>
          </ng-template>
        </div>
        <div class="card-header">
          <p class="tag">{{ product.tag }}</p>
          <p class="rating">&#9733; {{ formatRating(product.rating) }}</p>
        </div>
        <h3>{{ product.title }}</h3>
        <p>{{ product.description }}</p>
        <div class="card-actions">
          <a
            *ngIf="product.id; else cadastroIncompleto"
            class="ghost-button"
            [routerLink]="['/produtos', product.id]"
            >Detalhes</a
          >
          <ng-template #cadastroIncompleto>
            <span class="card-warning">Associe um ID para habilitar o detalhe.</span>
          </ng-template>
        </div>
      </article>
    </div>
    <button
      class="carousel-nav next"
      type="button"
      (click)="nextSlide()"
      aria-label="Proximo"
      [disabled]="featuredProducts.length <= 1"
    >
      &#10095;
    </button>
  </div>

  <ng-template #emptyFeatured>
    <div class="empty-state">
      <p>Conecte o endpoint de destaques para exibir os produtos do backend aqui.</p>
    </div>
  </ng-template>

  <div class="carousel-dots" *ngIf="featuredProducts.length > 1">
    <button
      *ngFor="let product of featuredProducts; index as index"
      (click)="goToSlide(index)"
      [class.active]="activeSlide() === index"
      type="button"
      aria-label="Ir para destaque {{ index + 1 }}"
    ></button>
  </div>
</section>

<section id="categorias" class="category-grid">
  <header>
    <p class="section-chip">Categorias</p>
    <h2>Selecoes curadas para todos os paladares</h2>
  </header>
  <div class="grid" *ngIf="categories.length; else categoriasPlaceholder">
    <article class="category-card" *ngFor="let category of categories" [style.background]="category.color">
      <p class="tag">{{ category.label }}</p>
      <h3>{{ category.description }}</h3>
      <a routerLink="/produtos" class="link-button">Ver colecao</a>
    </article>
  </div>
  <ng-template #categoriasPlaceholder>
    <div class="empty-state">
      <p>As categorias serao exibidas assim que voce integrar o endpoint correspondente.</p>
    </div>
  </ng-template>
</section>

<section id="sobre" class="about-section">
  <div class="about-content">
    <p class="section-chip">Sobre a casa</p>
    <h2>Uma casa licoreira dedicada ao Cerrado</h2>
    <p>
      Selecionamos frutas, meles e especiarias de comunidades extrativistas e produtores parceiros.
      Cada safra passa por maturacao controlada e analise sensorial ate conquistar o equilibrio ideal.
    </p>
    <ul>
      <li>Parcerias com cooperativas de agricultura regenerativa.</li>
      <li>Controle sensorial em seis etapas antes do envase.</li>
    </ul>
    <div class="about-actions">
      <a routerLink="/produtos" class="primary-button">Ver catalogo completo</a>
      <a routerLink="/produtos" fragment="kits" class="ghost-button">Conhecer kits corporativos</a>
    </div>
  </div>

  <div class="about-panel">
    <div class="panel-card">
      <p class="metric">92 pts</p>
      <p>Guia Nacional de Licores 2024</p>
    </div>
    <div class="panel-card">
      <p class="metric">Top 3</p>
      <p>Premiacao Brasil Spirits</p>
    </div>
    <div class="panel-card">
      <p class="metric">100%</p>
      <p>Origem rastreada</p>
    </div>
  </div>
</section>

<section id="depoimentos" class="testimonial-section">
  <header>
    <p class="section-chip">Avaliacoes reais</p>
    <h2>Depoimentos de quem vive a experiencia Sabores do Cerrado</h2>
  </header>

  <div class="testimonial-grid">
    <article class="testimonial-card" *ngFor="let testimonial of testimonials">
      <p class="rating">&#9733; {{ testimonial.rating }}</p>
      <p class="comment">&ldquo;{{ testimonial.comment }}&rdquo;</p>
      <p class="author">{{ testimonial.name }} &middot; {{ testimonial.city }}</p>
    </article>
  </div>
</section>
